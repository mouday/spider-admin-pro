(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a44da90"],{"0defe":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("AutoRefresh",{attrs:{size:"small"},on:{refresh:t.getData}}),t._v(" "),n("el-divider"),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"log-content"},[n("pre",[t._v(t._s(t.content))])])],1)},s=[],i=(n("e186"),n("7590")),r=n("ef1e"),c={name:"",props:[],components:{AutoRefresh:r["a"]},data:function(){return{project:"",spider:"",job:"",listLoading:!0,content:""}},computed:{},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,this.$Http.scrapydJobLog({project:this.project,spider:this.spider,job:this.job});case 3:e=t.sent,this.content=e,this.listLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.project=this.$route.params.project,this.spider=this.$route.params.spider,this.job=this.$route.params.job,this.getData()}},u=c,a=(n("7b6c"),n("cba8")),h=Object(a["a"])(u,o,s,!1,null,"67cb058b",null);e["default"]=h.exports},5388:function(t,e,n){},"56f6":function(t,e,n){},"7b6c":function(t,e,n){"use strict";n("56f6")},"84a4":function(t,e,n){"use strict";n("5388")},ef1e:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("el-button",{attrs:{size:"small"},on:{click:t.changeAutoRefresh}},[t._v(t._s(t.autoRefreshText))]),t._v(" "),n("span",{staticClass:"tips"},[t._v(t._s(t.countDownText))])],1)},s=[],i=(n("e680"),{name:"",props:{frequency:{type:Number,default:3e3}},components:{},data:function(){return{timer:null,countDown:0}},computed:{autoRefreshText:function(){return null==this.timer?"开启自动刷新":"关闭自动刷新"},countDownText:function(){return null==this.timer?"":(console.log(this.countDown),this.countDown+" 秒后自动刷新")}},methods:{autoRefresh:function(){console.log("refresh"),this.$emit("refresh"),this.resetCountDown()},countDownReduce:function(){this.countDown--},resetCountDown:function(){this.countDown=Math.ceil(.001*this.frequency)},openAutoRefresh:function(){var t=this;this.resetCountDown(),this.countDownTimer=setInterval((function(){t.countDownReduce()}),1e3),this.timer=setInterval((function(){t.autoRefresh()}),this.frequency),console.log("启动自动刷新")},closeAutoRefresh:function(){clearInterval(this.timer),clearInterval(this.countDownTimer),console.log("关闭自动刷新"),this.timer=null,this.countDownTimer=null},changeAutoRefresh:function(){this.timer?this.closeAutoRefresh():this.openAutoRefresh()}},beforeDestroy:function(){this.closeAutoRefresh()},created:function(){}}),r=i,c=(n("84a4"),n("cba8")),u=Object(c["a"])(r,o,s,!1,null,"3b21a7d2",null);e["a"]=u.exports}}]);